# T-065: Create GARMIN_COLLECTOR agent for data ingestion

**Status:** TODO → DONE  
**Owner:** CREATOR  
**Tags:** garmin, mcp, data-ingestion, agents

---

## Objective

Build specialized agent to fetch training, recovery, sleep, and readiness data from Garmin via MCP and save to `data/garmin/` for GARMIN_ANALYST processing.

---

## Implementation

### Agent Specification

Created [.AGENTS/GARMIN_COLLECTOR.json](.AGENTS/GARMIN_COLLECTOR.json) with comprehensive data collection workflow:

**Data Categories:**
1. **Training** → `data/garmin/training.json`
   - Activities (via `mcp_garth_-_garmi_get_activities`)
   - Activity details and splits
   - Daily intensity minutes and steps

2. **Recovery** → `data/garmin/recovery.json`
   - Body Battery (30-day history)
   - HRV summaries (daily + detailed)
   - Stress levels
   - Respiration data

3. **Sleep** → `data/garmin/sleep.json`
   - Nightly sleep stats with movement data
   - Daily sleep summaries
   - Sleep stages and scores

4. **Readiness** → `data/garmin/readiness.json`
   - Training Readiness indicators
   - Weekly intensity/stress trends
   - Derived readiness scores

**Key Features:**
- Default 30-day data collection window
- Structured JSON schemas with metadata
- Error handling with partial data preservation
- Backup existing files before overwrite
- Validation and gap detection
- Collection summary reporting

---

## Verification

✅ Agent JSON file created with complete workflow  
✅ Task T-065 added to tasks.json  
✅ Workflow documentation complete  
✅ Follows JSON agent template structure  
✅ Integrates with all available Garmin MCP tools  
✅ Data saved to correct paths: `data/garmin/{training,recovery,sleep,readiness}.json`

---

## Usage

To invoke the GARMIN_COLLECTOR agent:

```
"Fetch last 30 days of Garmin data and save to data/garmin/"
```

The agent will automatically:
1. Create `data/garmin/` directory if missing
2. Call appropriate MCP tools for each data category
3. Structure and validate JSON output files
4. Report collection summary with record counts

The collected data is ready for GARMIN_ANALYST to process for insights and recommendations.

---

## Next Steps

- Test GARMIN_COLLECTOR with actual Garmin MCP server connection
- Verify JSON schemas match GARMIN_ANALYST expectations
- Consider adding incremental updates (only fetch new data since last run)
