# T-066: Create ENDURANCE_COACH agent

## Goal

Build a specialist agent that reads @GARMIN_ANALYST summaries (training load, recovery, sleep, readiness) and prescribes weekly training with brief biomechanical rationale—no psychology, no motivation, just coaching logic.

## Scope

- Add `.AGENTS/ENDURANCE_COACH.json` defining inputs (GARMIN_ANALYST output + historical context), outputs (weekly plan + red flags + checkpoint), permissions, and workflow.
- Update `AGENTS.md` to register the new agent and reference T-066 as the originating task.
- Ensure the agent reads @data/garmin/ JSON exports and can parse metrics like ACWR, HRV trend, Body Battery, sleep score, stress.
- Coach prescriptions use standard notation: HR zones (Z1–5), duration/distance, intensity (RPE or %FTP), and one-line reason.
- Workflow includes tier-1 hazard detection (overtraining, undertraining, injury risk) and checkpoint scheduling.

## Outputs

1. **Agent JSON** (`.AGENTS/ENDURANCE_COACH.json`):
   - Role: Coach interpreting telemetry → training decisions.
   - Inputs: GARMIN_ANALYST summary, athlete context, constraints.
   - Outputs: Weekly prescription, hazard flags, reassessment checkpoint.
   - Permissions: Read @data/garmin/, JSON parsing, task status checks.
   - Workflow: Confirm task readiness → extract metrics → detect red flags → prescribe 7-day plan → checkpoint.

2. **Agent Registry Update** (`AGENTS.md`):
   - Add ENDURANCE_COACH entry under "Current JSON Agents" section.
   - Brief description: "Translates Garmin telemetry into weekly training plans with physiological reasoning."
   - Link to T-066.md.

3. **Workflow Documentation** (`docs/workflow/T-066.md`):
   - This file; includes goal, scope, and verification checklist.

## Verification Checklist

- [ ] `.AGENTS/ENDURANCE_COACH.json` exists, valid JSON, follows registry format.
- [ ] `AGENTS.md` mentions ENDURANCE_COACH with link to this workflow.
- [ ] Workflow section covers metric parsing, hazard detection, prescription logic, and checkpoint scheduling.
- [ ] Test: sample GARMIN_ANALYST output → ENDURANCE_COACH weekly plan (verify reasoning is brief and physiological).
- [ ] `python3 scripts/agentctl.py ready T-066` shows ready status with no blockers.

## Next Steps

1. Run `python3 scripts/agentctl.py finish T-066` to validate the agent and mark task complete.
2. Integrate ENDURANCE_COACH into swarm workflow so it can be invoked after GARMIN_ANALYST summary.
3. (Optional) Build auto-weekly-report pipeline: GARMIN_COLLECTOR → GARMIN_ANALYST → ENDURANCE_COACH → DOCS (brief summary).

